# ECS_CORE
This is my personal repository for creating a game/program core using ECS ​​pattern.

### Документ архитектуры: Модульный движок от Егора

---

#### Общее видение

Движок представляет собой систему из отдельных модулей и плагинов, которые объединяются ядром при запуске. Цель: превратить сборку программ в простой и контролируемый процесс.

---

### Стадия 1: Сборка ядра

**Цель:** получить базовый исполняемый файл (core), который запускает main_loop, читает core.conf, и обрабатывает аргументы.

**Результат:**
- bin/core
- configs/core.conf

**Состав файлов:**
- `main.cpp` — только цикл и запуск API::Update
- `arg_parser.*` — обработка аргументов командной строки
- `config.*` — парсинг конфигурационного файла
- `logger.*` — вывод логов в терминал и файл

**Отличие:** API не линкуется! Ядро лишь запрошивает API по конфигу.

---

### Стадия 2: Сборка движка (полного пакета)

**Цель:** получить полноценную систему движка, которая включает:
- API (бинарник или библиотека)
- Модули (низкоуровневые — SDL, Input, Audio...)
- Плагины (ECS-наборы для RPG, UI, Story)

**Сборка:** через скрипт или вручную
- скачивание релизов с GitHub (`api/`, `plugins/`, `modules/`)
- изменение core.conf: что использовать
- тестирование: `core --print-config`

**Особенности:**
- API не собирается с ядром
- Поддержка разных версий модулей и плагинов
- Возможна автоматическая установка по списку из `core.conf`

---

### Стадия 3: Создание контента (final product)

**Цель:** на готовой платформе (ядро + API + модули + плагины) писать код сцен, логики, UI в виде Lua/другого скриптового языка.

**Структура:**
- `app/` — скрипты и сцены
- `assets/` — ресурсы
- `bin/core` — ядро
- `configs/core.conf` — центральное управление

**Взаимодействие:**
1. Скрипт вызывает `CreateEnemy("orc")`
2. Плагин RPG обрабатывает и вызывает API
3. API делегирует `IRenderer::Draw(...)`
4. SDL-модуль вызывает SDL2

---

### Философия:
> Ядро — это крутящийся пустой цикл.
> API — это окно для плагинов и модулей.
> Плагины — дают правила.
> Модули — делают реальную работу.

---

Можно добавить:
- auto-discovery (поиск плагинов и модулей)
- проверку версий api/core
- множественные ядра с разными сборками
